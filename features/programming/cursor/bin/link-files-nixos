#!/usr/bin/env bash
set -e

echo "features > programming > cursor > link-files-nixos"

currentDirectoryPath=$(pwd)
settingsSourceFilePath="${currentDirectoryPath}/features/programming/cursor/.config/Cursor/User/settings.json"
keybindingsSourceFilePath="${currentDirectoryPath}/features/programming/cursor/.config/Cursor/User/keybindings.json"
mcpSourceFilePath="${currentDirectoryPath}/features/programming/cursor/.config/Cursor/mcp.json"
targetDirectoryPath="${HOME}/.config/Cursor/User"
targetDirectoryPathRoot="${HOME}/.config/Cursor"
settingsTargetFilePath="${targetDirectoryPath}/settings.json"
keybindingsTargetFilePath="${targetDirectoryPath}/keybindings.json"
mcpTargetFilePath="${targetDirectoryPathRoot}/mcp.json"

mkdir -p "${targetDirectoryPath}"
mkdir -p "${targetDirectoryPathRoot}"
ln -sf "${settingsSourceFilePath}" "${settingsTargetFilePath}"
ln -sf "${keybindingsSourceFilePath}" "${keybindingsTargetFilePath}"
ln -sf "${mcpSourceFilePath}" "${mcpTargetFilePath}"
